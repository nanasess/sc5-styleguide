# core-js のマイグレーション対応記録

日付: 2025年5月7日

## タスク概要

core-js パッケージを最新のセキュリティ対応済みバージョンにマイグレーションし、関連パッケージの更新も行う。

## 対応内容

1. core-js への依存関係の調査
   - 古いバージョン（v1.2.7、v2.6.12）に依存していたパッケージを特定
   - 主な依存元: gulp-babel, postcss-import, pug 関連パッケージ

2. 関連パッケージのアップデート
   - gulp-babel: 最新バージョンへ更新
   - @babel/core: 最新バージョンへ更新 
   - postcss-import: 最新の互換性のあるバージョンへ更新
   - pug: 既に最新バージョン（3.0.3）を使用中

3. テスト実行による動作確認
   - `npm run test`: ユニットテストとインテグレーションテストの実行確認
   - `npm run demo`: デモ環境の正常起動確認

## 対応結果

- すべてのテストが正常に完了
- デモ環境が正常に起動
- 古いcore-jsバージョンへの依存を解消
- `overrides` の使用を最小限に抑え、関連パッケージの直接アップデートで対応

## 注意点

- postcss-importを更新する際、PostCSS 5との互換性を考慮したバージョン選択が必要だった
- 古いバージョンのcore-jsへの依存は、複数の経路から発生していたため、それぞれの経路を特定して対応する必要があった

## 今後の課題

- 残りの警告対応（minimatch、request、rimrafなど）についても同様のアプローチで進めると良い
- 各パッケージの更新による副作用がないか引き続き監視
